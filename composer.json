{
  "name": "vardumper/ibexa-on-docker",
  "description": "Ibexa on Docker",
  "type": "project",
  "authors": [
    {
      "name": "Erik PÃ¶hler",
      "email": "info@erikpoehler.com"
    }
  ],
  "minimum-stability": "dev",
  "prefer-stable": true,
  "config": {
    "allow-plugins": {
      "composer/installers": true,
      "symfony/flex": true,
      "php-http/discovery": true,
      "symfony/runtime": true,
      "ibexa/post-install": true
    }
  },
  "scripts": {
    "install-ibexa": [
      "COMPOSER_PROCESS_TIMEOUT=600 COMPOSER_POOL_OPTIMIZER=0 COMPOSER_MEMORY_LIMIT=-1 composer create-project --prefer-dist ibexa/commerce-skeleton app",
      "@php -r \"file_exists('app/docker-compose.yml') || unlink('app/docker-compose.yml');\"",
      "@php -r \"file_exists('app/docker-compose.override.yml') || unlink('app/docker-compose.override.yml');\"",
      "@php -r \"copy('app/.env', 'app/env.backup');\"",
      "@php -r \"unlink('app/.env');\"",
      "@php -r \"unlink('app/config/packages/cache.yaml');\"",
      "@php -r \"unlink('app/config/services.yaml');\"",
      "@php -r \"copy('config/cache.yaml', 'app/config/packages/cache.yaml');\"",
      "@php -r \"copy('config/services.yaml', 'app/config/services.yaml');\"",
      "@php -r \"unlink('config/cache.yaml');\"",
      "@php -r \"unlink('config/services.yaml');\"",
      "@php -r \"rmdir('config');\"",
      "@php -r \"copy('.env.dev', 'app/.env');\"",
      "@php -r \"unlink('.env.dev');\"",
      "@php -r \"unlink('composer.json');\"",
      "@php -r \"unlink('composer.lock');\"",
      "cd app && git init"
    ],
    "post-create-project-cmd": [
      "@install-ibexa"
    ]
  },
  "repositories": [
    {
      "type": "composer",
      "url": "https://updates.ibexa.co"
    }
  ]
}
